<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="admin">
	<resultMap type="event" id="eventMap">
		<result property="eventNo" column="event_no"/>
		<result property="eventTitle" column="event_title"/>
		<result property="eventStartDate" column="event_start_date"/>
		<result property="eventEndDate" column="event_end_date"/>
		<result property="eventCategory" column="event_category"/>
		<result property="eventSalePer" column="event_sale_per"/>
	</resultMap>
	<resultMap type="member" id="memberMap">
		<result property="memNo" column="mem_no"/>
		<result property="memNick" column="mem_nick"/>
		<result property="memPwd" column="mem_pwd"/>
		<result property="memEmail" column="mem_email"/>
		<result property="memPro" column="mem_pro"/>
		<result property="memBuyCount" column="mem_buy_count"/>
		<result property="memWarnCount" column="mem_warn_count"/>
		<result property="memManagerYn" column="mem_manager_yn"/>
		<result property="memStatus" column="mem_status"/>
		<result property="memPoint" column="mem_point"/>
	</resultMap>
	
	<select id="selectEvent" resultMap="eventMap">
		SELECT * FROM EVENT
	</select>
	
	<delete id="eventDelete" parameterType="string">
		DELETE FROM EVENT WHERE EVENT_NO = #{evetNo}
	</delete>
	
	<insert id="insertEvent" parameterType="event">
		INSERT INTO EVENT 
		VALUES('E'||TO_CHAR(SEQ_EVENT_NO.NEXTVAL),
			#{eventTitle},#{eventStartDate},#{eventEndDate},
			#{eventCategory},#{eventSalePer})
	</insert>

	<select id="selectMemberList" resultMap="memberMap">
		SELECT * FROM MEMBER
	</select>
	
	<select id="selectMemberCount" resultType="_int">
		SELECT COUNT(*) FROM MEMBER
	</select>
</mapper>